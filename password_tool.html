<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>パスワード暗号化ツール</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
    <h2>パスワード暗号化ツール</h2>
    <label>パスキー: <input type="text" id="passkey"></label><br><br>
    <label>パスワード: <input type="text" id="password"></label>
    <button onclick="encrypt()">暗号化</button>
    <p>暗号化結果: <span id="encrypted"></span></p>

    <label>復号キー: <input type="text" id="decryptKey"></label><br><br>
    <label>暗号化データ: <input type="text" id="encryptedData"></label>
    <button onclick="decrypt()">復号化</button>
    <p>復号結果: <span id="decrypted"></span></p>

    <script>
        function encrypt() {
            const passkey = document.getElementById("passkey").value;
            const password = document.getElementById("password").value;
            const encrypted = CryptoJS.AES.encrypt(password, passkey).toString();
            document.getElementById("encrypted").innerText = encrypted;
        }

        function decrypt() {
            const passkey = document.getElementById("decryptKey").value;
            const encryptedData = document.getElementById("encryptedData").value;
            const bytes = CryptoJS.AES.decrypt(encryptedData, passkey);
            const decrypted = bytes.toString(CryptoJS.enc.Utf8);
            document.getElementById("decrypted").innerText = decrypted || "復号に失敗しました";
        }
    </script>
</body>
</html>
